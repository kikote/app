{"version":3,"sources":["store/actions/actionTypes.js","store/reducer.js","store/store.js","components/Header/Header.js","components/LayersList/LayersList.js","components/AddLayer/AddLayer.js","components/SideBar/SideBar.js","utils/events.js","store/actions/actions.js","utils/helper.js","components/Map/Map.js","components/Modal/Modal.js","components/Container/Container.js","App.js","index.js"],"names":["SET_LAYERS","initialState","layers","setLayers","state","action","concat","payload","reducer","newState","type","actionTypes","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Header","props","useState","menuOpen","setMenuOpen","className","onClick","iconSwitcher","document","getElementsByClassName","sideBarContainer","style","display","innerHTML","opacity","visibility","connect","console","log","layersElement","map","l","i","draggable","name","openModal","AddLayer","SideBar","process","dropHandler","event","target","preventDefault","dataTransfer","items","length","kind","file","getAsFile","reader","FileReader","addEventListener","processData","readAsText","files","dragOverHandler","data","str","sep","idToKeep","dispatch","split","JSON","parse","result","Map","useEffect","L","zoomControl","setView","control","zoom","position","addTo","tileLayer","attribution","id","onDrop","onDragOver","onclick","modal","closeModal","Modal","Container","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6c17c137.chunk.js","sourcesContent":["export const SET_LAYERS = \"SET_LAYERS\";\n","import * as actionTypes from \"./actions/actionTypes\";\n\nconst initialState = {\n  layers: [],\n};\n\nconst setLayers = (state, action) => {\n  state.layers = state.layers.concat(action.payload);\n  return state;\n};\n\nconst reducer = (state = initialState, action) => {\n  const newState = { ...state };\n  switch (action.type) {\n    case actionTypes.SET_LAYERS:\n      return setLayers(newState, action);\n    default:\n      return newState;\n  }\n};\n\nexport default reducer;\n","import { createStore, compose, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducer from \"./reducer\";\n\n// eslint-disable-next-line no-underscore-dangle\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducer, composeEnhancer(applyMiddleware(thunk)));\n\nexport default store;\n","import React, { useState } from \"react\";\n\nimport \"./Header.scss\";\n\nconst Header = (props) => {\n  const [menuOpen, setMenuOpen] = useState(false);\n\n  const handleClick = () => {\n    const iconSwitcher = document.getElementsByClassName(\"menu-switcher\")[0];\n    const sideBarContainer = document.getElementsByClassName(\n      \"sidebar-container\"\n    )[0];\n    if (menuOpen) {\n      sideBarContainer.style.display = \"none\";\n      setMenuOpen(false);\n      // &#9776; is the hamburger icon\n      iconSwitcher.innerHTML = \"&#9776;\";\n    } else {\n      sideBarContainer.style.display = \"grid\";\n      sideBarContainer.style.opacity = 1;\n      sideBarContainer.style.visibility = \"visible\";\n      setMenuOpen(true);\n      // &#10799; is the close icon\n      iconSwitcher.innerHTML = \"&#10799;\";\n    }\n  };\n\n  return (\n    <div className=\"header\">\n      <span className=\"menu-switcher\" onClick={handleClick}>\n        &#9776;\n      </span>\n      <div className=\"header-title\">\n        <h1>Kikote</h1>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport \"./LayersList.scss\";\n\nconst LayersList = (props) => {\n  console.log(\"RENDERING LayersList\");\n\n  const layersElement = props.layers.map((l, i) => (\n    <li key={i} draggable=\"true\">\n      {l.name}\n    </li>\n  ));\n  return <ul>{layersElement}</ul>;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    layers: state.layers,\n  };\n};\n\nexport default connect(mapStateToProps)(LayersList);\n","import React from \"react\";\n\nimport \"./AddLayer.scss\";\n\nconst openModal = () => {\n  const modal = document.getElementsByClassName(\"kikote-modal\")[0];\n  modal.style.display = \"block\";\n};\n\nconst AddLayer = () => {\n  return (\n    <div className=\"sidebar-header-addlayer\" onClick={openModal}>\n      &#x271A; Add Layer\n    </div>\n  );\n};\n\nexport default AddLayer;\n","import React from \"react\";\n\n// import { dropHandler, dragOverHandler } from \"../../utils/events\";\n\nimport LayerList from \"../LayersList/LayersList\";\nimport AddLayer from \"../AddLayer/AddLayer\";\n\nimport \"./SideBar.scss\";\n\nconst SideBar = (props) => {\n  console.log(\"RENDERING SideBar\");\n  return (\n    <div className=\"sidebar-container\">\n      {/* <div\n        className=\"sidebar\"\n        onDrop={dropHandler}\n        onDragOver={dragOverHandler}\n      > */}\n      <div className=\"sidebar-header\">\n        <AddLayer />\n      </div>\n      <div className=\"sidebar-body\">\n        <LayerList />\n      </div>\n      <div className=\"sidebar-footer\">\n        Version: {process.env.REACT_APP_VERSION}\n      </div>\n      {/* </div> */}\n    </div>\n  );\n};\n\nexport default SideBar;\n","import * as actions from \"../store/actions/actions\";\nimport store from \"../store/store\";\nimport { splitString } from \"./helper\";\n\n// Source: https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/File_drag_and_drop\nexport const dropHandler = (event) => {\n  // reset opacity of target element\n  event.target.style.opacity = 1;\n\n  event.preventDefault();\n\n  if (event.dataTransfer.items) {\n    // Use DataTransferItemList interface to access the file(s)\n    for (let i = 0; i < event.dataTransfer.items.length; i++) {\n      // If dropped items aren't files, reject them\n      if (event.dataTransfer.items[i].kind === \"file\") {\n        const file = event.dataTransfer.items[i].getAsFile();\n        console.log(\"... file[\" + i + \"].name = \" + file.name);\n        console.log(file);\n        let reader = new FileReader();\n\n        reader.addEventListener(\"loadend\", processData(file, reader));\n        reader.readAsText(file);\n      }\n    }\n  } else {\n    // Use DataTransfer interface to access the file(s)\n    for (let i = 0; i < event.dataTransfer.files.length; i++) {\n      console.log(\n        \"... file[\" + i + \"].name = \" + event.dataTransfer.files[i].name\n      );\n    }\n  }\n};\n\nexport const dragOverHandler = (event) => {\n  // change opacity of target element\n  event.target.style.opacity = 0.6;\n\n  // Prevent default behavior (Prevent file from being opened)\n  event.preventDefault();\n};\n\nconst processData = (file, reader) => {\n  store.dispatch(\n    actions.setLayers({\n      name: splitString(file.name, \".\", 0),\n      data: JSON.parse(reader.result),\n    })\n  );\n};\n","import * as actionTypes from \"./actionTypes\";\n\nexport const setLayers = (data) => {\n  console.log(data.name);\n  return {\n    type: actionTypes.SET_LAYERS,\n    payload: data,\n  };\n};\n","export const splitString = (str, sep, idToKeep) => {\n  return str.split(sep)[idToKeep];\n};\n","import React, { useEffect } from \"react\";\n// import { connect } from \"react-redux\";\nimport L from \"leaflet\";\n\n// import * as actions from \"../../store/actions/actions\";\n\nimport { dropHandler, dragOverHandler } from \"../../utils/events\";\n\nimport \"./Map.scss\";\n\nconst Map = (props) => {\n  // Initialiaze map when component is mounted\n  useEffect(() => {\n    const map = L.map(\"map\", { zoomControl: false }).setView([18, 0], 3);\n\n    L.control\n      .zoom({\n        position: \"bottomright\",\n      })\n      .addTo(map);\n\n    L.tileLayer(\n      \"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png\",\n      {\n        attribution:\n          '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n      }\n    ).addTo(map);\n  }, []);\n\n  return <div id=\"map\" onDrop={dropHandler} onDragOver={dragOverHandler}></div>;\n};\n\n// const mapStateToProps = (state) => {\n//   return {};\n// };\n\n// const mapDispatchToProps = (dispatch, ownProps) => {\n//   return {\n//     // onSetSelectedStation: (data) => {\n//     //   dispatch(actions.setSelectedStation(data));\n//     // },\n//     // onSetActiveLayerName: (data) => {\n//     //   dispatch(actions.setActiveLayerName(data));\n//     // },\n//     // onSetChartData: (data) => {\n//     //   dispatch(\n//     //     actions.setProperty({\n//     //       type: ownProps.fileType,\n//     //       key: \"chartData\",\n//     //       value: data,\n//     //     })\n//     //   );\n//     // },\n//     // onSetLevel: (data) => {\n//     //   dispatch(actions.setLevel(data));\n//     // },\n//   };\n// };\n\n// export default connect(mapStateToProps, mapDispatchToProps)(Map);\nexport default Map;\n","import React from \"react\";\n\nimport \"./Modal.scss\";\n\n// When the user clicks anywhere outside of the modal, close it\nwindow.onclick = function (event) {\n  const modal = document.getElementsByClassName(\"kikote-modal\")[0];\n  if (event.target === modal) {\n    modal.style.display = \"none\";\n  }\n};\n\nconst closeModal = () => {\n  const modal = document.getElementsByClassName(\"kikote-modal\")[0];\n  modal.style.display = \"none\";\n};\n\nconst Modal = () => {\n  return (\n    <div className=\"kikote-modal\">\n      <div className=\"kikote-modal-content\">\n        <span className=\"kikote-modal-close\" onClick={closeModal}>\n          &times;\n        </span>\n        <h2>Generic Modal</h2>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\n\nimport SideBar from \"../SideBar/SideBar\";\nimport Map from \"../Map/Map\";\nimport Modal from \"../Modal/Modal\";\n\nimport \"./Container.scss\";\n\nconst Container = (props) => {\n  return (\n    <div className=\"container\">\n      <SideBar />\n      <Map />\n      <Modal />\n    </div>\n  );\n};\n\nexport default Container;\n","import React from \"react\";\n\nimport Header from \"./components/Header/Header\";\nimport Container from \"./components/Container/Container\";\n\nimport \"./App.scss\";\n\nconst App = () => {\n  return (\n    <>\n      <Header />\n      <Container />\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n// import { createStore, compose, applyMiddleware } from \"redux\";\n// import thunk from \"redux-thunk\";\n// import reducer from \"./store/reducer\";\n\nimport store from \"./store/store\";\n\nimport App from \"./App.js\";\n\nimport \"../node_modules/leaflet/dist/leaflet.css\";\nimport \"./index.scss\";\n\n// // eslint-disable-next-line no-underscore-dangle\n// const composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// export const store = createStore(\n//   reducer,\n//   composeEnhancer(applyMiddleware(thunk))\n// );\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}